# Pre-Generated Assets

This directory contains assets generated using PixelLab MCP tools during development.

## CRITICAL: View Angle Consistency

**ALL assets use `view: "low top-down"`** for visual consistency.

This provides a slight 3/4 angle showing:
- Building facades (not just roofs)
- Prop depth and dimension
- Consistent perspective across all elements

Do NOT mix high and low top-down views - this causes visual inconsistency.

## Directory Structure

```
generated/
├── buildings/        # Building sprites (shop, tavern, houses, etc.)
│   └── {id}.png
├── props/            # Prop sprites (barrel, crate, well, trees, etc.)
│   └── {id}.png
├── characters/       # Character sprites with animations
│   └── {id}/
│       ├── sprite_frames.tres
│       └── rotations/
├── tilesets/         # Terrain tilesets (generated in chain order)
│   └── {id}/
│       ├── tileset.png
│       └── metadata.json
├── foundations/      # Building foundation pads (placed UNDER buildings)
│   └── {id}.png
├── shadows/          # Ground shadow sprites (placed between foundation & building)
│   └── {id}.png
├── path_endpoints/   # Path-to-door transition tiles
│   └── {id}.png
└── misc/             # Other generated assets
```

## How Assets Are Generated

Assets are generated by Claude using PixelLab MCP tools based on the manifest in:
`scripts/generation/asset_manifest.gd`

To generate missing assets, ask Claude to "generate missing assets" or "generate assets for [type]".

### Tileset Chain Order

Tilesets must be generated in order to ensure visual consistency:
1. `base_grass` → saves grass base tile ID
2. `grass_to_dirt` → uses grass ID, saves dirt ID
3. `grass_to_stone` → uses grass ID, saves stone ID
4. `dirt_to_stone` → uses dirt and stone IDs

### Building Integration

For each building, generate in this order:
1. Foundation (ground pad under building)
2. Shadow (semi-transparent, offset bottom-right)
3. Building sprite
4. Path endpoint (connects path to door)

## Layer Order (Z-Index)

When placing assets in scenes:
| Z-Index | Asset Type |
|---------|------------|
| -20 | Terrain tilemap |
| -15 | Path tilemap |
| -10 | Foundations |
| -5 | Ground shadows |
| 0 | Props (barrels, crates) |
| 10 | Buildings |
| 20 | Characters |
| 30 | Tree canopy (walk under) |

## Loading Priority

When the game loads assets, it checks in this order:
1. `res://assets/generated/` (this directory) - fastest, offline
2. `user://generated_assets/` (runtime cache) - previously generated at runtime
3. Runtime API generation - slowest, requires network

## Regenerating Assets

To regenerate specific assets:
1. Delete the asset file(s) from this directory
2. Ask Claude to regenerate them

To regenerate all assets:
1. Delete all files in this directory (keep the folder structure)
2. Ask Claude to "regenerate all assets"

**Note**: When regenerating tilesets, regenerate ALL of them in chain order to maintain consistency.
